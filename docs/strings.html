<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter15 Strings | Introduction to R</title>
  <meta name="description" content="This is an introductory book on R produced by Psicostat, an interdisciplinary research group that combines a passion for statistics and psychology." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter15 Strings | Introduction to R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://psicostat.github.io/Introduction2R_EN/images/logo_psicostat.png" />
  <meta property="og:description" content="This is an introductory book on R produced by Psicostat, an interdisciplinary research group that combines a passion for statistics and psychology." />
  <meta name="github-repo" content="psicostat/Introduction2R_EN" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter15 Strings | Introduction to R" />
  
  <meta name="twitter:description" content="This is an introductory book on R produced by Psicostat, an interdisciplinary research group that combines a passion for statistics and psychology." />
  <meta name="twitter:image" content="https://psicostat.github.io/Introduction2R_EN/images/logo_psicostat.png" />

<meta name="author" content="by Claudio Zandonella Callegher and Filippo Gambarota (revision and translation into English by Enrico Toffalini), members of Psicostat" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/faviconpsicostat2.ico" type="image/x-icon" />
<link rel="prev" href="fourth-section.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="libs/sass4eeb3cd232157e7bc0437cf318a67eab/style.min.css" type="text/css" />
<link rel="stylesheet" href="assets/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/hex_psicostat.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentation of the Book</a></li>
<li class="part"><span><b>Getting Started</b></span></li>
<li class="chapter" data-level="" data-path="section-1---getting-started.html"><a href="section-1---getting-started.html"><i class="fa fa-check"></i>Section 1 - Getting Started</a></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installing R e RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#install-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="install.html"><a href="install.html#r-windows"><i class="fa fa-check"></i><b>1.1.1</b> R Windows</a></li>
<li class="chapter" data-level="1.1.2" data-path="install.html"><a href="install.html#r-macos"><i class="fa fa-check"></i><b>1.1.2</b> R MacOS</a></li>
<li class="chapter" data-level="1.1.3" data-path="install.html"><a href="install.html#r-linux"><i class="fa fa-check"></i><b>1.1.3</b> R Linux</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="install.html"><a href="install.html#r-studio-on-linux"><i class="fa fa-check"></i><b>1.2.1</b> R Studio on Linux</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio-gui.html"><a href="rstudio-gui.html"><i class="fa fa-check"></i><b>2</b> RStudio Interface</a></li>
<li class="chapter" data-level="3" data-path="first-commands.html"><a href="first-commands.html"><i class="fa fa-check"></i><b>3</b> First steps in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="first-commands.html"><a href="first-commands.html#math-operators"><i class="fa fa-check"></i><b>3.1</b> Mathematical Operators</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="first-commands.html"><a href="first-commands.html#order-of-operations"><i class="fa fa-check"></i><b>3.1.1</b> Order of Operations</a></li>
<li class="chapter" data-level="" data-path="first-commands.html"><a href="first-commands.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="first-commands.html"><a href="first-commands.html#operators-rel-log"><i class="fa fa-check"></i><b>3.2</b> Relational and Logical Operators</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="first-commands.html"><a href="first-commands.html#relational-operators"><i class="fa fa-check"></i><b>3.2.1</b> Relational Operators</a></li>
<li class="chapter" data-level="3.2.2" data-path="first-commands.html"><a href="first-commands.html#logical-operators"><i class="fa fa-check"></i><b>3.2.2</b> Logical Operators</a></li>
<li class="chapter" data-level="3.2.3" data-path="first-commands.html"><a href="first-commands.html#order-of-evaluation-of-relations"><i class="fa fa-check"></i><b>3.2.3</b> Order of Evaluation of Relations</a></li>
<li class="chapter" data-level="" data-path="first-commands.html"><a href="first-commands.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="objects-functions.html"><a href="objects-functions.html"><i class="fa fa-check"></i><b>4</b> Objects &amp; Functions: Two Inseparable Companions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="objects-functions.html"><a href="objects-functions.html#objects-section"><i class="fa fa-check"></i><b>4.1</b> Objects</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="objects-functions.html"><a href="objects-functions.html#assign"><i class="fa fa-check"></i><b>4.1.1</b> Assigning and Calling an Object</a></li>
<li class="chapter" data-level="4.1.2" data-path="objects-functions.html"><a href="objects-functions.html#objects-names"><i class="fa fa-check"></i><b>4.1.2</b> Object Names</a></li>
<li class="chapter" data-level="4.1.3" data-path="objects-functions.html"><a href="objects-functions.html#data-types-and-data-structures"><i class="fa fa-check"></i><b>4.1.3</b> Data Types and Data Structures</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="objects-functions.html"><a href="objects-functions.html#functions-def"><i class="fa fa-check"></i><b>4.2</b> Functions</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="objects-functions.html"><a href="objects-functions.html#function-arguments"><i class="fa fa-check"></i><b>4.2.1</b> Function Arguments</a></li>
<li class="chapter" data-level="4.2.2" data-path="objects-functions.html"><a href="objects-functions.html#help"><i class="fa fa-check"></i><b>4.2.2</b> Help! I need Somebody…Help!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="working-environment.html"><a href="working-environment.html"><i class="fa fa-check"></i><b>5</b> Working Environment</a>
<ul>
<li class="chapter" data-level="5.1" data-path="working-environment.html"><a href="working-environment.html#environment"><i class="fa fa-check"></i><b>5.1</b> Environment</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="working-environment.html"><a href="working-environment.html#adding-objects-to-the-environment"><i class="fa fa-check"></i><b>5.1.1</b> Adding Objects to the Environment</a></li>
<li class="chapter" data-level="5.1.2" data-path="working-environment.html"><a href="working-environment.html#removing-objects-from-the-environment"><i class="fa fa-check"></i><b>5.1.2</b> Removing Objects from the Environment</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="working-environment.html"><a href="working-environment.html#working-directory"><i class="fa fa-check"></i><b>5.2</b> Working Directory</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="working-environment.html"><a href="working-environment.html#computer-organization"><i class="fa fa-check"></i><b>5.2.1</b> Computer Organization</a></li>
<li class="chapter" data-level="5.2.2" data-path="working-environment.html"><a href="working-environment.html#absolute-path-and-relative-path"><i class="fa fa-check"></i><b>5.2.2</b> Absolute Path and Relative Path</a></li>
<li class="chapter" data-level="5.2.3" data-path="working-environment.html"><a href="working-environment.html#working-directory-in-r"><i class="fa fa-check"></i><b>5.2.3</b> Working Directory in R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="working-environment.html"><a href="working-environment.html#packages"><i class="fa fa-check"></i><b>5.3</b> R-packages</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="working-environment.html"><a href="working-environment.html#install.packages"><i class="fa fa-check"></i><b>5.3.1</b> install.packages()</a></li>
<li class="chapter" data-level="5.3.2" data-path="working-environment.html"><a href="working-environment.html#library"><i class="fa fa-check"></i><b>5.3.2</b> library()</a></li>
<li class="chapter" data-level="5.3.3" data-path="working-environment.html"><a href="working-environment.html#updating-and-removing-packages"><i class="fa fa-check"></i><b>5.3.3</b> Updating and Removing Packages</a></li>
<li class="chapter" data-level="5.3.4" data-path="working-environment.html"><a href="working-environment.html#package-documentation"><i class="fa fa-check"></i><b>5.3.4</b> Package Documentation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="working-session.html"><a href="working-session.html"><i class="fa fa-check"></i><b>6</b> Working Session</a>
<ul>
<li class="chapter" data-level="6.1" data-path="working-session.html"><a href="working-session.html#organizing-scripts"><i class="fa fa-check"></i><b>6.1</b> Organizing Scripts</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="working-session.html"><a href="working-session.html#creating-sections"><i class="fa fa-check"></i><b>6.1.1</b> Creating Sections</a></li>
<li class="chapter" data-level="6.1.2" data-path="working-session.html"><a href="working-session.html#sintax"><i class="fa fa-check"></i><b>6.1.2</b> Syntax</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="working-session.html"><a href="working-session.html#organizing-projects"><i class="fa fa-check"></i><b>6.2</b> Organizing Projects</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="working-session.html"><a href="working-session.html#rstudio-projects"><i class="fa fa-check"></i><b>6.2.1</b> RStudio Projects</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="working-session.html"><a href="working-session.html#messages-warnings-e-errors"><i class="fa fa-check"></i><b>6.3</b> Messages, Warnings e Errors</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="working-session.html"><a href="working-session.html#resolving-errors"><i class="fa fa-check"></i><b>6.3.1</b> Resolving Errors</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Data Structures</b></span></li>
<li class="chapter" data-level="" data-path="second-section.html"><a href="second-section.html"><i class="fa fa-check"></i>Section 2 - Data Structures</a></li>
<li class="chapter" data-level="7" data-path="vector.html"><a href="vector.html"><i class="fa fa-check"></i><b>7</b> Vectors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="vector.html"><a href="vector.html#creation"><i class="fa fa-check"></i><b>7.1</b> Creation</a>
<ul>
<li class="chapter" data-level="" data-path="vector.html"><a href="vector.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="vector.html"><a href="vector.html#vector-selection"><i class="fa fa-check"></i><b>7.2</b> Selecting Elements</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="vector.html"><a href="vector.html#vector-selection-advanced"><i class="fa fa-check"></i><b>7.2.1</b> Advanced Uses of Selection</a></li>
<li class="chapter" data-level="" data-path="vector.html"><a href="vector.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="vector.html"><a href="vector.html#vector-functions"><i class="fa fa-check"></i><b>7.3</b> Functions and Operations</a>
<ul>
<li class="chapter" data-level="" data-path="vector.html"><a href="vector.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="vector.html"><a href="vector.html#data-type"><i class="fa fa-check"></i><b>7.4</b> Data Types</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="vector.html"><a href="vector.html#character"><i class="fa fa-check"></i><b>7.4.1</b> Character</a></li>
<li class="chapter" data-level="7.4.2" data-path="vector.html"><a href="vector.html#numeric"><i class="fa fa-check"></i><b>7.4.2</b> Numeric</a></li>
<li class="chapter" data-level="7.4.3" data-path="vector.html"><a href="vector.html#integer"><i class="fa fa-check"></i><b>7.4.3</b> Integer</a></li>
<li class="chapter" data-level="7.4.4" data-path="vector.html"><a href="vector.html#logical-vector"><i class="fa fa-check"></i><b>7.4.4</b> Logical</a></li>
<li class="chapter" data-level="7.4.5" data-path="vector.html"><a href="vector.html#special-values"><i class="fa fa-check"></i><b>7.4.5</b> Special Values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="factor.html"><a href="factor.html"><i class="fa fa-check"></i><b>8</b> Factors</a>
<ul>
<li class="chapter" data-level="8.1" data-path="factor.html"><a href="factor.html#attributes"><i class="fa fa-check"></i><b>8.1</b> Object Attributes</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="factor.html"><a href="factor.html#attributes-of-a-vector"><i class="fa fa-check"></i><b>8.1.1</b> Attributes of a Vector</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="factor.html"><a href="factor.html#factors"><i class="fa fa-check"></i><b>8.2</b> Factors</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="factor.html"><a href="factor.html#factor-structure"><i class="fa fa-check"></i><b>8.2.1</b> Factor Structure</a></li>
<li class="chapter" data-level="8.2.2" data-path="factor.html"><a href="factor.html#factor-operations"><i class="fa fa-check"></i><b>8.2.2</b> Factor Operations</a></li>
<li class="chapter" data-level="8.2.3" data-path="factor.html"><a href="factor.html#ordinal-factors"><i class="fa fa-check"></i><b>8.2.3</b> Ordinal Factors</a></li>
<li class="chapter" data-level="" data-path="factor.html"><a href="factor.html#exercises-5"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="matrix.html"><a href="matrix.html"><i class="fa fa-check"></i><b>9</b> Matrices</a>
<ul>
<li class="chapter" data-level="9.1" data-path="matrix.html"><a href="matrix.html#creation-1"><i class="fa fa-check"></i><b>9.1</b> Creation</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="matrix.html"><a href="matrix.html#matrix-types"><i class="fa fa-check"></i><b>9.1.1</b> Matrix types</a></li>
<li class="chapter" data-level="" data-path="matrix.html"><a href="matrix.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="matrix.html"><a href="matrix.html#sel-matrix"><i class="fa fa-check"></i><b>9.2</b> Element Selection</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="matrix.html"><a href="matrix.html#matrix-selection-advanced"><i class="fa fa-check"></i><b>9.2.1</b> Advanced Selection Uses</a></li>
<li class="chapter" data-level="" data-path="matrix.html"><a href="matrix.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="matrix.html"><a href="matrix.html#functions-and-operations"><i class="fa fa-check"></i><b>9.3</b> Functions and Operations</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="matrix.html"><a href="matrix.html#mat-prop"><i class="fa fa-check"></i><b>9.3.1</b> Attributes of a Matrix</a></li>
<li class="chapter" data-level="9.3.2" data-path="matrix.html"><a href="matrix.html#matrix-bind"><i class="fa fa-check"></i><b>9.3.2</b> Combining Matrices</a></li>
<li class="chapter" data-level="9.3.3" data-path="matrix.html"><a href="matrix.html#mathematical-operators"><i class="fa fa-check"></i><b>9.3.3</b> Mathematical Operators</a></li>
<li class="chapter" data-level="" data-path="matrix.html"><a href="matrix.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="matrix.html"><a href="matrix.html#arrays"><i class="fa fa-check"></i><b>9.4</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dataframe.html"><a href="dataframe.html"><i class="fa fa-check"></i><b>10</b> Dataframe</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframe.html"><a href="dataframe.html#creating-a-dataframe"><i class="fa fa-check"></i><b>10.1</b> Creating a dataframe</a>
<ul>
<li class="chapter" data-level="" data-path="dataframe.html"><a href="dataframe.html#exercises-9"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dataframe.html"><a href="dataframe.html#sel-df"><i class="fa fa-check"></i><b>10.2</b> Selecting Elements</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="dataframe.html"><a href="dataframe.html#advanced-selection-uses"><i class="fa fa-check"></i><b>10.2.1</b> Advanced Selection Uses</a></li>
<li class="chapter" data-level="" data-path="dataframe.html"><a href="dataframe.html#exercises-10"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="dataframe.html"><a href="dataframe.html#functions-and-operations-1"><i class="fa fa-check"></i><b>10.3</b> Functions and Operations</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="dataframe.html"><a href="dataframe.html#attributes-of-a-dataframe"><i class="fa fa-check"></i><b>10.3.1</b> Attributes of a Dataframe</a></li>
<li class="chapter" data-level="10.3.2" data-path="dataframe.html"><a href="dataframe.html#merging-dataframes"><i class="fa fa-check"></i><b>10.3.2</b> Merging Dataframes</a></li>
<li class="chapter" data-level="10.3.3" data-path="dataframe.html"><a href="dataframe.html#dataframe-information"><i class="fa fa-check"></i><b>10.3.3</b> Dataframe Information</a></li>
<li class="chapter" data-level="" data-path="dataframe.html"><a href="dataframe.html#exercises-11"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="list.html"><a href="list.html"><i class="fa fa-check"></i><b>11</b> Lists</a>
<ul>
<li class="chapter" data-level="11.1" data-path="list.html"><a href="list.html#creating-lists"><i class="fa fa-check"></i><b>11.1</b> Creating Lists</a>
<ul>
<li class="chapter" data-level="" data-path="list.html"><a href="list.html#exercises-12"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="list.html"><a href="list.html#selecting-elements"><i class="fa fa-check"></i><b>11.2</b> Selecting Elements</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="list.html"><a href="list.html#advanced-selection-uses-1"><i class="fa fa-check"></i><b>11.2.1</b> Advanced Selection Uses</a></li>
<li class="chapter" data-level="" data-path="list.html"><a href="list.html#exercises-13"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="list.html"><a href="list.html#functions-and-operations-2"><i class="fa fa-check"></i><b>11.3</b> Functions and Operations</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="list.html"><a href="list.html#attributes-of-a-list"><i class="fa fa-check"></i><b>11.3.1</b> Attributes of a List</a></li>
<li class="chapter" data-level="11.3.2" data-path="list.html"><a href="list.html#merging-lists"><i class="fa fa-check"></i><b>11.3.2</b> Merging Lists</a></li>
<li class="chapter" data-level="11.3.3" data-path="list.html"><a href="list.html#list-information"><i class="fa fa-check"></i><b>11.3.3</b> List Information</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="list.html"><a href="list.html#nested-structure"><i class="fa fa-check"></i><b>11.4</b> Nested Structure</a></li>
</ul></li>
<li class="part"><span><b>Algorithms</b></span></li>
<li class="chapter" data-level="" data-path="third-section.html"><a href="third-section.html"><i class="fa fa-check"></i>Section 3 - Algorithms</a></li>
<li class="chapter" data-level="12" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>12</b> Definition of Functions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="functions.html"><a href="functions.html#creating-a-function"><i class="fa fa-check"></i><b>12.1</b> Creating a Function</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="functions.html"><a href="functions.html#defining-inputs-and-outputs"><i class="fa fa-check"></i><b>12.1.1</b> Defining Inputs and Outputs</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercises-14"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="functions.html"><a href="functions.html#working-with-functions"><i class="fa fa-check"></i><b>12.2</b> Working with Functions</a></li>
<li class="chapter" data-level="12.3" data-path="functions.html"><a href="functions.html#function-environment"><i class="fa fa-check"></i><b>12.3</b> Function Environment</a></li>
<li class="chapter" data-level="12.4" data-path="functions.html"><a href="functions.html#best-practices"><i class="fa fa-check"></i><b>12.4</b> Best Practices</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="functions.html"><a href="functions.html#when-is-a-function-necessary"><i class="fa fa-check"></i><b>12.4.1</b> When is a Function Necessary?</a></li>
<li class="chapter" data-level="12.4.2" data-path="functions.html"><a href="functions.html#choosing-the-name-of-a-function"><i class="fa fa-check"></i><b>12.4.2</b> Choosing the Name of a Function</a></li>
<li class="chapter" data-level="12.4.3" data-path="functions.html"><a href="functions.html#simplifying-the-number-of-operations-and-outputs"><i class="fa fa-check"></i><b>12.4.3</b> Simplifying the Number of Operations and Outputs</a></li>
<li class="chapter" data-level="12.4.4" data-path="functions.html"><a href="functions.html#commenting-and-documenting"><i class="fa fa-check"></i><b>12.4.4</b> Commenting and Documenting</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="functions.html"><a href="functions.html#importing-a-function"><i class="fa fa-check"></i><b>12.5</b> Importing a Function</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>13</b> Conditional Programming</a>
<ul>
<li class="chapter" data-level="13.1" data-path="conditionals.html"><a href="conditionals.html#conditional-structures"><i class="fa fa-check"></i><b>13.1</b> Conditional Structures</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="conditionals.html"><a href="conditionals.html#if"><i class="fa fa-check"></i><b>13.1.1</b> if</a></li>
<li class="chapter" data-level="13.1.2" data-path="conditionals.html"><a href="conditionals.html#ifelse"><i class="fa fa-check"></i><b>13.1.2</b> if…else</a></li>
<li class="chapter" data-level="13.1.3" data-path="conditionals.html"><a href="conditionals.html#nested"><i class="fa fa-check"></i><b>13.1.3</b> Nested</a></li>
<li class="chapter" data-level="" data-path="conditionals.html"><a href="conditionals.html#exercises-15"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="conditionals.html"><a href="conditionals.html#other-conditional-operators"><i class="fa fa-check"></i><b>13.2</b> Other Conditional Operators</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="conditionals.html"><a href="conditionals.html#switch"><i class="fa fa-check"></i><b>13.2.1</b> switch</a></li>
<li class="chapter" data-level="13.2.2" data-path="conditionals.html"><a href="conditionals.html#ifelse-1"><i class="fa fa-check"></i><b>13.2.2</b> ifelse</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="loop.html"><a href="loop.html"><i class="fa fa-check"></i><b>14</b> Iterative Programming</a>
<ul>
<li class="chapter" data-level="14.1" data-path="loop.html"><a href="loop.html#loops"><i class="fa fa-check"></i><b>14.1</b> Loops</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="loop.html"><a href="loop.html#for"><i class="fa fa-check"></i><b>14.1.1</b> For</a></li>
<li class="chapter" data-level="14.1.2" data-path="loop.html"><a href="loop.html#while"><i class="fa fa-check"></i><b>14.1.2</b> While</a></li>
<li class="chapter" data-level="14.1.3" data-path="loop.html"><a href="loop.html#next-and-break"><i class="fa fa-check"></i><b>14.1.3</b> Next and Break</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="loop.html"><a href="loop.html#nested-loops"><i class="fa fa-check"></i><b>14.2</b> Nested Loops</a>
<ul>
<li class="chapter" data-level="" data-path="loop.html"><a href="loop.html#exercises-16"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="loop.html"><a href="loop.html#apply-family"><i class="fa fa-check"></i><b>14.3</b> Apply Family</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="loop.html"><a href="loop.html#which-functions-to-apply"><i class="fa fa-check"></i><b>14.3.1</b> Which Functions to Apply?</a></li>
<li class="chapter" data-level="14.3.2" data-path="loop.html"><a href="loop.html#apply"><i class="fa fa-check"></i><b>14.3.2</b> apply</a></li>
<li class="chapter" data-level="14.3.3" data-path="loop.html"><a href="loop.html#tapply"><i class="fa fa-check"></i><b>14.3.3</b> tapply</a></li>
<li class="chapter" data-level="14.3.4" data-path="loop.html"><a href="loop.html#lapply"><i class="fa fa-check"></i><b>14.3.4</b> lapply</a></li>
<li class="chapter" data-level="14.3.5" data-path="loop.html"><a href="loop.html#sapply"><i class="fa fa-check"></i><b>14.3.5</b> sapply</a></li>
<li class="chapter" data-level="14.3.6" data-path="loop.html"><a href="loop.html#vapply"><i class="fa fa-check"></i><b>14.3.6</b> vapply</a></li>
<li class="chapter" data-level="14.3.7" data-path="loop.html"><a href="loop.html#list-of-functions-applied-to-a-list-of-objects"><i class="fa fa-check"></i><b>14.3.7</b> List of Functions Applied to a List of Objects</a></li>
<li class="chapter" data-level="14.3.8" data-path="loop.html"><a href="loop.html#mapply"><i class="fa fa-check"></i><b>14.3.8</b> mapply</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="loop.html"><a href="loop.html#replicate"><i class="fa fa-check"></i><b>14.4</b> Replicate</a></li>
</ul></li>
<li class="part"><span><b>Advanced Topics</b></span></li>
<li class="chapter" data-level="" data-path="fourth-section.html"><a href="fourth-section.html"><i class="fa fa-check"></i>Section 4 - Advanced Topics</a></li>
<li class="chapter" data-level="15" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>15</b> Strings</a>
<ul>
<li class="chapter" data-level="15.1" data-path="strings.html"><a href="strings.html#comparing-strings"><i class="fa fa-check"></i><b>15.1</b> Comparing Strings</a></li>
<li class="chapter" data-level="15.2" data-path="strings.html"><a href="strings.html#constructing-strings"><i class="fa fa-check"></i><b>15.2</b> Constructing Strings</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="strings.html"><a href="strings.html#tolower-and-toupper"><i class="fa fa-check"></i><b>15.2.1</b> <code>tolower()</code> and <code>toupper()</code></a></li>
<li class="chapter" data-level="15.2.2" data-path="strings.html"><a href="strings.html#paste-and-paste0"><i class="fa fa-check"></i><b>15.2.2</b> <code>paste()</code> and <code>paste0()</code></a></li>
<li class="chapter" data-level="15.2.3" data-path="strings.html"><a href="strings.html#sprinf"><i class="fa fa-check"></i><b>15.2.3</b> <code>sprinf()</code></a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="strings.html"><a href="strings.html#indexing-strings"><i class="fa fa-check"></i><b>15.3</b> Indexing Strings</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="strings.html"><a href="strings.html#nchar"><i class="fa fa-check"></i><b>15.3.1</b> <code>nchar()</code></a></li>
<li class="chapter" data-level="15.3.2" data-path="strings.html"><a href="strings.html#gregexpr-and-regexpr"><i class="fa fa-check"></i><b>15.3.2</b> <code>gregexpr()</code> and <code>regexpr()</code></a></li>
<li class="chapter" data-level="15.3.3" data-path="strings.html"><a href="strings.html#substr-and-substring"><i class="fa fa-check"></i><b>15.3.3</b> <code>substr()</code> and <code>substring()</code></a></li>
<li class="chapter" data-level="15.3.4" data-path="strings.html"><a href="strings.html#startwith-and-endswith"><i class="fa fa-check"></i><b>15.3.4</b> <code>startWith()</code> and <code>endsWith()</code></a></li>
<li class="chapter" data-level="15.3.5" data-path="strings.html"><a href="strings.html#grep-and-grepl"><i class="fa fa-check"></i><b>15.3.5</b> <code>grep()</code> and <code>grepl()</code></a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="strings.html"><a href="strings.html#manipulating-strings"><i class="fa fa-check"></i><b>15.4</b> Manipulating Strings</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="strings.html"><a href="strings.html#gsub-and-sub"><i class="fa fa-check"></i><b>15.4.1</b> <code>gsub()</code> and <code>sub()</code></a></li>
<li class="chapter" data-level="15.4.2" data-path="strings.html"><a href="strings.html#strsplit"><i class="fa fa-check"></i><b>15.4.2</b> <code>strsplit()</code></a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="strings.html"><a href="strings.html#regular-expression-regex"><i class="fa fa-check"></i><b>15.5</b> Regular Expression (REGEX)</a></li>
<li class="chapter" data-level="15.6" data-path="strings.html"><a href="strings.html#further-reading"><i class="fa fa-check"></i><b>15.6</b> Further Reading</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="strings.html"><a href="strings.html#useful-resources"><i class="fa fa-check"></i><b>15.6.1</b> Useful Resources</a></li>
<li class="chapter" data-level="15.6.2" data-path="strings.html"><a href="strings.html#other-useful-functions"><i class="fa fa-check"></i><b>15.6.2</b> Other Useful Functions</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><span style="font-size: 2.5em">Introduction to R</span></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=10.0,initial-scale=1.0">
  <!--script src="https://kit.fontawesome.com/6a26f47516.js"></script-->
  <script src="assets/hideOutput.js"></script>
  <link href="assets/style.css" rel="stylesheet">
</head>



<div class="hero-image-container">
  <img class= "hero-image" src="images/banner.png">
</div>
<div id="strings" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">Chapter15</span> Strings<a href="strings.html#strings" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!--
SOURCES:
- https://statisticsglobe.com/r-substr-substring
- The art of R Programming
- R4DS
- https://bookdown.org/rdpeng/rprogdatascience/regular-expressions.html
-->
<p>We have seen that R, besides handling numbers, is also capable of managing <strong>characters</strong>. Although mathematical operations are not relevant for this type of data, working with strings is just as complex, if not more so, in programming. Compared to numbers, strings:</p>
<ul>
<li>Can be uppercase or lowercase. For example, the string <code>ciao</code> is <em>conceptually</em> the same as <code>Ciao</code>, but R treats them differently.</li>
</ul>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="strings.html#cb342-1" tabindex="-1"></a><span class="st">&quot;ciao&quot;</span> <span class="sc">==</span> <span class="st">&quot;Ciao&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<ul>
<li>Can contain special characters like <code>? \ $</code> or belong to different alphabets <code>ऊ α</code></li>
<li>The indexing for <code>numbers</code> and <code>strings</code> works differently. If we have a <strong>vector</strong> of strings, it is represented in the same way as a numeric vector. However, the string itself ciao can be broken down, manipulated, and indexed by the individual characters that compose it: <code>c, i, a, o</code>:</li>
</ul>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="strings.html#cb344-1" tabindex="-1"></a>vect_string <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;how&quot;</span>, <span class="st">&quot;are&quot;</span>, <span class="st">&quot;you&quot;</span>)</span>
<span id="cb344-2"><a href="strings.html#cb344-2" tabindex="-1"></a>vect_num <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb344-3"><a href="strings.html#cb344-3" tabindex="-1"></a></span>
<span id="cb344-4"><a href="strings.html#cb344-4" tabindex="-1"></a><span class="fu">length</span>(vect_string)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="strings.html#cb346-1" tabindex="-1"></a><span class="fu">length</span>(vect_num)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="strings.html#cb348-1" tabindex="-1"></a>vect_string[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;how&quot;</code></pre>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="strings.html#cb350-1" tabindex="-1"></a>vect_num[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="strings.html#cb352-1" tabindex="-1"></a><span class="co"># Using the nchar() function</span></span>
<span id="cb352-2"><a href="strings.html#cb352-2" tabindex="-1"></a><span class="fu">setNames</span>(<span class="fu">nchar</span>(vect_string), vect_string)</span></code></pre></div>
<pre><code>## how are you 
##   3   3   3</code></pre>
<p>To create a string in R, we must use single or double quotes <code>"string"</code> or <code>'string'</code>. These two syntaxes are interpreted the same way in R. We can use them both to write a string containing quotes:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="strings.html#cb354-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;string with &#39;another string&#39; inside&quot;</span></span>
<span id="cb354-2"><a href="strings.html#cb354-2" tabindex="-1"></a>x</span>
<span id="cb354-3"><a href="strings.html#cb354-3" tabindex="-1"></a></span>
<span id="cb354-4"><a href="strings.html#cb354-4" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;string with &quot;</span>another string<span class="st">&quot; inside&quot;</span></span>
<span id="cb354-5"><a href="strings.html#cb354-5" tabindex="-1"></a><span class="co"># This gives an error because R can&#39;t interpret the double quotes correctly</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:4:19: unexpected symbol
## 3: 
## 4: x = &quot;string with &quot;another
##                      ^</code></pre>
<p>Within strings, we can use special characters like <code>/ | \ $ % &amp;</code>. Some of these are interpreted in a specific way by R. When this happens, we need to add the <code>\</code> character, which acts as an <em>escape</em>, telling R to interpret the character literally:</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="strings.html#cb356-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;hello how are you? </span><span class="sc">\n</span><span class="st"> I’m all good&quot;</span></span>
<span id="cb356-2"><a href="strings.html#cb356-2" tabindex="-1"></a><span class="fu">cat</span>(x)</span></code></pre></div>
<pre><code>## hello how are you? 
##  I’m all good</code></pre>
<p>For this reason, R offers a series of functions and packages that allow efficient manipulation of strings. Here, we will see a brief overview of these functions with some suggestions on how to explore them further.</p>
<div id="comparing-strings" class="section level2 hasAnchor" number="15.1">
<h2><span class="header-section-number">15.1</span> Comparing Strings<a href="strings.html#comparing-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first aspect is comparing strings. The logical comparison of strings is much stricter than that of numbers. As we saw earlier, strings allow for more freedom, but with the challenge of managing more scenarios.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="strings.html#cb358-1" tabindex="-1"></a><span class="co"># Comparing two numbers represented differently</span></span>
<span id="cb358-2"><a href="strings.html#cb358-2" tabindex="-1"></a>my_integer <span class="ot">=</span> <span class="fu">as.integer</span>(<span class="dv">10</span>)</span>
<span id="cb358-3"><a href="strings.html#cb358-3" tabindex="-1"></a>my_double <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="dv">10</span>)</span>
<span id="cb358-4"><a href="strings.html#cb358-4" tabindex="-1"></a>my_integer <span class="sc">==</span> my_double</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="strings.html#cb360-1" tabindex="-1"></a><span class="co"># Comparing strings</span></span>
<span id="cb360-2"><a href="strings.html#cb360-2" tabindex="-1"></a></span>
<span id="cb360-3"><a href="strings.html#cb360-3" tabindex="-1"></a><span class="st">&quot;ciao&quot;</span> <span class="sc">==</span> <span class="st">&quot;Ciao&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="strings.html#cb362-1" tabindex="-1"></a><span class="st">&quot;female&quot;</span> <span class="sc">==</span> <span class="st">&quot;feMale&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>The concept of space “” is also important because it is considered a character:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="strings.html#cb364-1" tabindex="-1"></a><span class="st">&quot;ciao &quot;</span> <span class="sc">==</span> <span class="st">&quot;ciao&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Imagine having a vector where a column represents the gender of participants. If this vector comes from people freely entering text in a field, you could end up with something like this (this is why online forms often use predefined options instead of free text):</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="strings.html#cb366-1" tabindex="-1"></a>gender <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;maLe&quot;</span>, <span class="st">&quot;masChio&quot;</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;malew&quot;</span>)</span></code></pre></div>
<p>In this exaggerated example, we understand what <code>f</code> or <code>malew</code> (likely a typo) mean, but working with it in R becomes problematic:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="strings.html#cb367-1" tabindex="-1"></a><span class="co"># Frequency table</span></span>
<span id="cb367-2"><a href="strings.html#cb367-2" tabindex="-1"></a></span>
<span id="cb367-3"><a href="strings.html#cb367-3" tabindex="-1"></a><span class="fu">table</span>(gender)</span></code></pre></div>
<pre><code>## gender
##       f  female    maLe    Male   malew masChio 
##       2       1       1       1       1       1</code></pre>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="strings.html#cb369-1" tabindex="-1"></a><span class="co"># Not very useful!</span></span></code></pre></div>
</div>
<div id="constructing-strings" class="section level2 hasAnchor" number="15.2">
<h2><span class="header-section-number">15.2</span> Constructing Strings<a href="strings.html#constructing-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s look at some useful functions for working with strings.</p>
<div id="tolower-and-toupper" class="section level3 hasAnchor" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> <code>tolower()</code> and <code>toupper()</code><a href="strings.html#tolower-and-toupper" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These functions are extremely useful because they allow you to force the characters to lowercase or uppercase.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="strings.html#cb370-1" tabindex="-1"></a><span class="fu">tolower</span>(gender)</span></code></pre></div>
<pre><code>## [1] &quot;male&quot;    &quot;maschio&quot; &quot;male&quot;    &quot;f&quot;       &quot;female&quot;  &quot;f&quot;       &quot;malew&quot;</code></pre>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="strings.html#cb372-1" tabindex="-1"></a><span class="fu">toupper</span>(gender)</span></code></pre></div>
<pre><code>## [1] &quot;MALE&quot;    &quot;MASCHIO&quot; &quot;MALE&quot;    &quot;F&quot;       &quot;FEMALE&quot;  &quot;F&quot;       &quot;MALEW&quot;</code></pre>
</div>
<div id="paste-and-paste0" class="section level3 hasAnchor" number="15.2.2">
<h3><span class="header-section-number">15.2.2</span> <code>paste()</code> and <code>paste0()</code><a href="strings.html#paste-and-paste0" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These functions allow you to combine different pieces of information into a string. You can combine different strings or even numbers. As is typical in R, <code>paste()</code> and <code>paste0()</code> are vectorized, making them useful for combining two vectors of information. The difference is that <code>paste()</code> automatically adds a space between the combined strings, while with <code>paste0()</code>, the space must be added explicitly.</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="strings.html#cb374-1" tabindex="-1"></a>age <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">15</span>, <span class="dv">18</span>)</span>
<span id="cb374-2"><a href="strings.html#cb374-2" tabindex="-1"></a>names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Andrea&quot;</span>, <span class="st">&quot;Francesco&quot;</span>, <span class="st">&quot;Fabio&quot;</span>, <span class="st">&quot;Anna&quot;</span>, <span class="st">&quot;Alice&quot;</span>)</span>
<span id="cb374-3"><a href="strings.html#cb374-3" tabindex="-1"></a></span>
<span id="cb374-4"><a href="strings.html#cb374-4" tabindex="-1"></a><span class="fu">paste</span>(names, <span class="st">&quot;is&quot;</span>, age, <span class="st">&quot;years old&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Andrea is 10 years old&quot;    &quot;Francesco is 20 years old&quot;
## [3] &quot;Fabio is 35 years old&quot;     &quot;Anna is 15 years old&quot;     
## [5] &quot;Alice is 18 years old&quot;</code></pre>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="strings.html#cb376-1" tabindex="-1"></a><span class="fu">paste0</span>(names, <span class="st">&quot;is&quot;</span>, age, <span class="st">&quot;years old&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Andreais10years old&quot;    &quot;Francescois20years old&quot; &quot;Fabiois35years old&quot;    
## [4] &quot;Annais15years old&quot;      &quot;Aliceis18years old&quot;</code></pre>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="strings.html#cb378-1" tabindex="-1"></a><span class="fu">paste0</span>(names, <span class="st">&quot; is &quot;</span>, age, <span class="st">&quot; years old&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Andrea is 10 years old&quot;    &quot;Francesco is 20 years old&quot;
## [3] &quot;Fabio is 35 years old&quot;     &quot;Anna is 15 years old&quot;     
## [5] &quot;Alice is 18 years old&quot;</code></pre>
<p>In this case, although <code>age</code> is numeric, it is coerced into a string to be combined with the names.</p>
</div>
<div id="sprinf" class="section level3 hasAnchor" number="15.2.3">
<h3><span class="header-section-number">15.2.3</span> <code>sprinf()</code><a href="strings.html#sprinf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>sprintf()</code> is similar to <code>paste*()</code> in functionality but allows you to compose strings using <em>placeholders</em> and then provide the content.</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="strings.html#cb380-1" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;%s is %d years old&quot;</span>, names, age)</span></code></pre></div>
<pre><code>## [1] &quot;Andrea is 10 years old&quot;    &quot;Francesco is 20 years old&quot;
## [3] &quot;Fabio is 35 years old&quot;     &quot;Anna is 15 years old&quot;     
## [5] &quot;Alice is 18 years old&quot;</code></pre>
<p>In this case, we compose a string using <code>%</code> followed by a letter representing the type of data to insert. We then provide the information in order. Here, <code>%s</code> (string) is for <code>names</code>, and <code>%d</code> (digits) is for <code>age</code>. Use <code>?sprintf</code> for an overview of the <em>placeholders</em> available.</p>
</div>
</div>
<div id="indexing-strings" class="section level2 hasAnchor" number="15.3">
<h2><span class="header-section-number">15.3</span> Indexing Strings<a href="strings.html#indexing-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="nchar" class="section level3 hasAnchor" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> <code>nchar()</code><a href="strings.html#nchar" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we saw earlier, a string is made up of a sequence of characters. The <code>nchar()</code> function returns the number of individual characters that make up a string.</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="strings.html#cb382-1" tabindex="-1"></a><span class="fu">nchar</span>(<span class="st">&quot;ciao&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="strings.html#cb384-1" tabindex="-1"></a><span class="fu">nchar</span>(<span class="st">&quot;Wow, working with strings is very fun&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 37</code></pre>
</div>
<div id="gregexpr-and-regexpr" class="section level3 hasAnchor" number="15.3.2">
<h3><span class="header-section-number">15.3.2</span> <code>gregexpr()</code> and <code>regexpr()</code><a href="strings.html#gregexpr-and-regexpr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To find the position of one or more characters within a string, we can use <code>gregexpr()</code>. The syntax is <code>(g)gregexpr(pattern, string)</code>:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="strings.html#cb386-1" tabindex="-1"></a><span class="fu">regexpr</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 3
## attr(,&quot;match.length&quot;)
## [1] 1
## attr(,&quot;index.type&quot;)
## [1] &quot;chars&quot;
## attr(,&quot;useBytes&quot;)
## [1] TRUE</code></pre>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="strings.html#cb388-1" tabindex="-1"></a><span class="fu">gregexpr</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 3 4
## attr(,&quot;match.length&quot;)
## [1] 1 1
## attr(,&quot;index.type&quot;)
## [1] &quot;chars&quot;
## attr(,&quot;useBytes&quot;)
## [1] TRUE</code></pre>
<p>The difference is that <code>regexpr()</code> only returns the first match — in our example, the first <code>t</code> is in the 3<sup>rd</sup> position — while <code>gregexpr()</code> returns all matches.</p>
</div>
<div id="substr-and-substring" class="section level3 hasAnchor" number="15.3.3">
<h3><span class="header-section-number">15.3.3</span> <code>substr()</code> and <code>substring()</code><a href="strings.html#substr-and-substring" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The inverse process — that is, finding the string corresponding to a given index — is the task of <code>substr(string, start, stop)</code> where <code>start</code> and <code>stop</code> are the indices of the portion of the string we want to extract. <code>substring()</code> works the same way, but <code>start</code> and <code>stop</code> are called <code>first</code> and <code>last</code>.</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="strings.html#cb390-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span>, <span class="dv">1</span>) <span class="co"># only the first character</span></span></code></pre></div>
<pre><code>## [1] &quot;b&quot;</code></pre>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="strings.html#cb392-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">2</span>, <span class="dv">4</span>) <span class="co"># second to fourth character</span></span></code></pre></div>
<pre><code>## [1] &quot;utt&quot;</code></pre>
<p>For these tasks, both functions provide exactly the same result. Let’s examine the differences:</p>
<ul>
<li><code>substring()</code> allows you to provide only the initial index <code>first</code> and the final index defaults to <code>1000000L</code>.</li>
<li><code>substring()</code> also allows you to provide a vector of start/end indices to segment the string.</li>
</ul>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="strings.html#cb394-1" tabindex="-1"></a><span class="fu">substring</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span>) <span class="co"># works</span></span></code></pre></div>
<pre><code>## [1] &quot;butterfly&quot;</code></pre>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="strings.html#cb396-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span>) <span class="co"># error</span></span></code></pre></div>
<pre><code>## Error in substr(&quot;butterfly&quot;, 1): argument &quot;stop&quot; is missing, with no default</code></pre>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="strings.html#cb398-1" tabindex="-1"></a><span class="fu">substring</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="co"># multiple end indices</span></span></code></pre></div>
<pre><code>## [1] &quot;b&quot;     &quot;bu&quot;    &quot;but&quot;   &quot;butt&quot;  &quot;butte&quot;</code></pre>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="strings.html#cb400-1" tabindex="-1"></a><span class="fu">substring</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="co"># multiple start and end indices</span></span></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;u&quot; &quot;t&quot; &quot;t&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="strings.html#cb402-1" tabindex="-1"></a><span class="fu">substr</span>(<span class="st">&quot;butterfly&quot;</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="co"># only one (i.e., the first) end index is used</span></span></code></pre></div>
<pre><code>## [1] &quot;b&quot;</code></pre>
</div>
<div id="startwith-and-endswith" class="section level3 hasAnchor" number="15.3.4">
<h3><span class="header-section-number">15.3.4</span> <code>startWith()</code> and <code>endsWith()</code><a href="strings.html#startwith-and-endswith" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes we are only interested in the beginning or the end of a string. For example, <code>female</code> and <code>male</code> have a clear initial difference (<code>fe</code> and <code>ma</code>). Even with subsequent typos or other differences, selecting only the beginning or end can be efficient. <code>startsWith()</code> and <code>endsWith()</code> respectively return <code>TRUE</code> or <code>FALSE</code> if a certain string or vector of strings has a given initial or final pattern.</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="strings.html#cb404-1" tabindex="-1"></a><span class="fu">startsWith</span>(<span class="st">&quot;female&quot;</span>, <span class="at">prefix =</span> <span class="st">&quot;fe&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="strings.html#cb406-1" tabindex="-1"></a><span class="fu">endsWith</span>(<span class="st">&quot;female&quot;</span>, <span class="at">suffix =</span> <span class="st">&quot;ale&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>These, like the other functions, can be combined with <code>tolower()</code> or <code>toupper()</code> to ignore irrelevant differences.</p>
</div>
<div id="grep-and-grepl" class="section level3 hasAnchor" number="15.3.5">
<h3><span class="header-section-number">15.3.5</span> <code>grep()</code> and <code>grepl()</code><a href="strings.html#grep-and-grepl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These functions operate on <strong>vectors</strong> of strings, finding the position or simple presence of specific <em>patterns</em>. <code>grep()</code> returns the position(s) in the vector where a match is found, while <code>grepl()</code> returns <code>TRUE</code> or <code>FALSE</code> depending on the presence of the <em>pattern</em>. The syntax is the same <code>grep*(pattern, vector)</code>.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="strings.html#cb408-1" tabindex="-1"></a>gender</span></code></pre></div>
<pre><code>## [1] &quot;maLe&quot;    &quot;masChio&quot; &quot;Male&quot;    &quot;f&quot;       &quot;female&quot;  &quot;f&quot;       &quot;malew&quot;</code></pre>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="strings.html#cb410-1" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">&quot;female&quot;</span>, gender) <span class="co"># index of position</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="strings.html#cb412-1" tabindex="-1"></a><span class="fu">grepl</span>(<span class="st">&quot;female&quot;</span>, gender) <span class="co"># true or false</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<p>As we saw with logical indexing of vectors, we can use both <code>grep()</code> and <code>grepl()</code> to select only certain elements:</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="strings.html#cb414-1" tabindex="-1"></a>index_grep <span class="ot">=</span> <span class="fu">grep</span>(<span class="st">&quot;female&quot;</span>, gender) <span class="co"># index of position</span></span>
<span id="cb414-2"><a href="strings.html#cb414-2" tabindex="-1"></a>index_grepl <span class="ot">=</span> <span class="fu">grepl</span>(<span class="st">&quot;female&quot;</span>, gender) <span class="co"># logical index</span></span>
<span id="cb414-3"><a href="strings.html#cb414-3" tabindex="-1"></a></span>
<span id="cb414-4"><a href="strings.html#cb414-4" tabindex="-1"></a>gender[index_grep]</span></code></pre></div>
<pre><code>## [1] &quot;female&quot;</code></pre>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="strings.html#cb416-1" tabindex="-1"></a>gender[index_grepl]</span></code></pre></div>
<pre><code>## [1] &quot;female&quot;</code></pre>
<p>Note again how all these functions work on a <strong>very strict match</strong> (in terms of upper/lowercase, etc.) between pattern and target.</p>
</div>
</div>
<div id="manipulating-strings" class="section level2 hasAnchor" number="15.4">
<h2><span class="header-section-number">15.4</span> Manipulating Strings<a href="strings.html#manipulating-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many of the functions we’ve seen also allow replacing a certain pattern within a string or vector of strings.</p>
<p>Using <code>substr()</code> or <code>substring()</code> with the assignment operator <code>=</code> (or <code>&lt;-</code>), we can replace certain characters. Importantly, the replacement must have the same number of characters as the selection <code>start:stop</code>, or only the corresponding number of characters will be used:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="strings.html#cb418-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;butterfly&quot;</span></span>
<span id="cb418-2"><a href="strings.html#cb418-2" tabindex="-1"></a><span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">=</span> <span class="st">&quot;y&quot;</span></span>
<span id="cb418-3"><a href="strings.html#cb418-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;yutterfly&quot;</code></pre>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="strings.html#cb420-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;butterfly&quot;</span></span>
<span id="cb420-2"><a href="strings.html#cb420-2" tabindex="-1"></a><span class="fu">substr</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">=</span> <span class="st">&quot;aeiou&quot;</span></span>
<span id="cb420-3"><a href="strings.html#cb420-3" tabindex="-1"></a>x <span class="co"># only the &#39;a&#39; is used</span></span></code></pre></div>
<pre><code>## [1] &quot;autterfly&quot;</code></pre>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="strings.html#cb422-1" tabindex="-1"></a><span class="co"># substring works exactly the same way</span></span>
<span id="cb422-2"><a href="strings.html#cb422-2" tabindex="-1"></a>x <span class="ot">=</span> <span class="st">&quot;butterfly&quot;</span></span>
<span id="cb422-3"><a href="strings.html#cb422-3" tabindex="-1"></a><span class="fu">substring</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">=</span> <span class="st">&quot;z&quot;</span></span>
<span id="cb422-4"><a href="strings.html#cb422-4" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;zutterfly&quot;</code></pre>
<p>They can also be used in a vectorized manner, working on multiple elements:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="strings.html#cb424-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;mouse&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span>
<span id="cb424-2"><a href="strings.html#cb424-2" tabindex="-1"></a><span class="fu">substring</span>(x, <span class="dv">1</span>, <span class="dv">1</span>) <span class="ot">=</span> <span class="st">&quot;z&quot;</span></span>
<span id="cb424-3"><a href="strings.html#cb424-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;zog&quot;       &quot;zat&quot;       &quot;zouse&quot;     &quot;zutterfly&quot;</code></pre>
<div id="gsub-and-sub" class="section level3 hasAnchor" number="15.4.1">
<h3><span class="header-section-number">15.4.1</span> <code>gsub()</code> and <code>sub()</code><a href="strings.html#gsub-and-sub" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Unlike <code>substring()</code>, <code>gsub()</code> and <code>sub()</code> allow you to replace a certain pattern rather than using position indices. The syntax is <code>*sub(pattern, replacement, target)</code>:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="strings.html#cb426-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;mouse&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span>
<span id="cb426-2"><a href="strings.html#cb426-2" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">&quot;o&quot;</span>, <span class="st">&quot;z&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] &quot;dzg&quot;       &quot;cat&quot;       &quot;mzuse&quot;     &quot;butterfly&quot;</code></pre>
<p>As you can see, for each element of <code>x</code>, the function found the pattern <code>"o"</code> and replaced it with <code>"z"</code>.</p>
<p>The main limitation of <code>sub()</code> is that it only replaces the first match found in each string.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="strings.html#cb428-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;mouse&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span>
<span id="cb428-2"><a href="strings.html#cb428-2" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;z&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] &quot;dog&quot;       &quot;caz&quot;       &quot;mouse&quot;     &quot;buzterfly&quot;</code></pre>
<p>As you can see, only the first <code>"t"</code> in the word <code>"butterfly"</code> was replaced. <code>gsub()</code>, however, replaces all characters that match the requested pattern:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="strings.html#cb430-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;mouse&quot;</span>, <span class="st">&quot;butterfly&quot;</span>)</span>
<span id="cb430-2"><a href="strings.html#cb430-2" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">&quot;t&quot;</span>, <span class="st">&quot;z&quot;</span>, x)</span></code></pre></div>
<pre><code>## [1] &quot;dog&quot;       &quot;caz&quot;       &quot;mouse&quot;     &quot;buzzerfly&quot;</code></pre>
</div>
<div id="strsplit" class="section level3 hasAnchor" number="15.4.2">
<h3><span class="header-section-number">15.4.2</span> <code>strsplit()</code><a href="strings.html#strsplit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ve already seen that, with <code>substring()</code>, we can, for example, divide a string into several parts. According to the R documentation, the <code>strsplit()</code> function is more suitable and efficient for this task. The syntax is <code>strsplit(target, split)</code> where <code>split</code> is the character used to divide:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="strings.html#cb432-1" tabindex="-1"></a>my_string <span class="ot">=</span> <span class="st">&quot;How nice it is to work with strings in R&quot;</span></span>
<span id="cb432-2"><a href="strings.html#cb432-2" tabindex="-1"></a><span class="fu">strsplit</span>(my_string, <span class="st">&quot; &quot;</span>) <span class="co"># splitting by spaces</span></span></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;How&quot;     &quot;nice&quot;    &quot;it&quot;      &quot;is&quot;      &quot;to&quot;      &quot;work&quot;    &quot;with&quot;   
##  [8] &quot;strings&quot; &quot;in&quot;      &quot;R&quot;</code></pre>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="strings.html#cb434-1" tabindex="-1"></a>my_string <span class="ot">=</span> <span class="st">&quot;howxnicexitxis&quot;</span></span>
<span id="cb434-2"><a href="strings.html#cb434-2" tabindex="-1"></a><span class="fu">strsplit</span>(my_string, <span class="st">&quot;x&quot;</span>) <span class="co"># splitting by the &quot;x&quot; character</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;how&quot;  &quot;nice&quot; &quot;it&quot;   &quot;is&quot;</code></pre>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="strings.html#cb436-1" tabindex="-1"></a>my_string <span class="ot">=</span> <span class="st">&quot;ciao&quot;</span></span>
<span id="cb436-2"><a href="strings.html#cb436-2" tabindex="-1"></a><span class="fu">strsplit</span>(my_string, <span class="st">&quot;&quot;</span>) <span class="co"># splitting each character</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;c&quot; &quot;i&quot; &quot;a&quot; &quot;o&quot;</code></pre>
<p>What we get is a vector (within a list, you can use <code>unlist()</code>) that contains the result of the splitting.</p>
</div>
</div>
<div id="regular-expression-regex" class="section level2 hasAnchor" number="15.5">
<h2><span class="header-section-number">15.5</span> Regular Expression (REGEX)<a href="strings.html#regular-expression-regex" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Is everything this simple with strings? Absolutely not! So far, we’ve used simple patterns like single characters or sets of characters, but we may have more complex problems to address, such as:</p>
<ul>
<li>finding the extension of a set of files</li>
<li>finding the domain of a website</li>
</ul>
<p>Let’s consider an example:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="strings.html#cb438-1" tabindex="-1"></a>files <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb438-2"><a href="strings.html#cb438-2" tabindex="-1"></a>  <span class="st">&quot;file1.txt&quot;</span>,</span>
<span id="cb438-3"><a href="strings.html#cb438-3" tabindex="-1"></a>  <span class="st">&quot;file2.docx&quot;</span>,</span>
<span id="cb438-4"><a href="strings.html#cb438-4" tabindex="-1"></a>  <span class="st">&quot;file3.doc&quot;</span>,</span>
<span id="cb438-5"><a href="strings.html#cb438-5" tabindex="-1"></a>  <span class="st">&quot;file4.sh&quot;</span></span>
<span id="cb438-6"><a href="strings.html#cb438-6" tabindex="-1"></a>)</span></code></pre></div>
<p>In this case, if we want to extract all the extensions <code>filename.extension</code>, the tools we’ve seen so far are insufficient:</p>
<ul>
<li>we could extract characters from the end using <code>substr()</code> and counting with <code>nchar()</code>, but extensions don’t have a fixed number of characters</li>
<li>we could search for all patterns using <code>grepl()</code>, but there are thousands of different extensions</li>
</ul>
<p>So far, we’ve seen two levels of abstraction:</p>
<ol style="list-style-type: decimal">
<li>Literal match: <code>string1 == string2</code></li>
<li>Indexing: position within a st</li>
</ol>
<p>The third level of abstraction is finding common patterns in strings and extracting them, regardless of the individual characters, numbers, or positions.</p>
<p>Regular Expressions (REGEX) are a set of characters (called <strong>metacharacters</strong>) that are interpreted and allow you to find patterns in strings without specifying a specific pattern or position index. The topic is very complex and not specific to R. There are plenty of guides and tutorials available online, which we will list at the end of this chapter. The important thing to know is that most of the functions we’ve seen allow the use of a <code>regex</code> in addition to a specific pattern to solve more complex problems.</p>
<p>For example, if we want to extract the extension from a list of files, the reasoning would be:</p>
<ul>
<li>we need to find a <code>.</code> because (almost) all files are composed of <code>filename.extension</code></li>
<li>we need to select all characters from the dot to the end of the string</li>
</ul>
<p>The “translation” in terms of REGEX is <code>"\\.([^.]+)$"</code>, and we can use this as a <em>pattern</em> to extract the information we need. We can use the regmatches(text, match) function, which requires the string to analyze and a <code>match</code> object, which is the result of the <code>regexpr</code> function we’ve already seen:</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="strings.html#cb439-1" tabindex="-1"></a>match_regex <span class="ot">=</span> <span class="fu">regexpr</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.([^.]+)$&quot;</span>, files)</span>
<span id="cb439-2"><a href="strings.html#cb439-2" tabindex="-1"></a><span class="fu">regmatches</span>(files, match_regex)</span></code></pre></div>
<pre><code>## [1] &quot;.txt&quot;  &quot;.docx&quot; &quot;.doc&quot;  &quot;.sh&quot;</code></pre>
</div>
<div id="further-reading" class="section level2 hasAnchor" number="15.6">
<h2><span class="header-section-number">15.6</span> Further Reading<a href="strings.html#further-reading" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Throughout this book, we have aimed to approach R as a programming language by focusing on its basic functions. However, in certain areas, such as strings and REGEX, there are highly recommended external packages that not only simplify tasks but also make the set of functions more organized and consistent. The <a href="https://stringr.tidyverse.org/index.html"><code>stringr</code> package</a> is a fantastic resource for learning and for working more efficiently with strings. It contains a series of functions built on top of those we’ve covered, simplifying them and providing uniformity.</p>
<p>The last example we described isn’t very readable since it involves using the result of another function and calling the <code>target</code> object twice. In <code>stringr</code>, we have the <code>str_extract()</code> function, which extracts a certain pattern or REGEX:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="strings.html#cb441-1" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_extract</span>(files, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.([^.]+)$&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;.txt&quot;  &quot;.docx&quot; &quot;.doc&quot;  &quot;.sh&quot;</code></pre>
<div id="useful-resources" class="section level3 hasAnchor" number="15.6.1">
<h3><span class="header-section-number">15.6.1</span> Useful Resources<a href="strings.html#useful-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><a href="https://stringr.tidyverse.org/index.html"><code>stringr</code></a></li>
<li><a href="https://r4ds.had.co.nz/strings.html">Chapter 14</a> di R for Data Science</li>
<li><a href="http://regex.info/book.html">Mastering Regular Expressions</a></li>
<li><a href="https://www.gastonsanchez.com/r4strings/">Handling Strings With R</a></li>
</ul>
</div>
<div id="other-useful-functions" class="section level3 hasAnchor" number="15.6.2">
<h3><span class="header-section-number">15.6.2</span> Other Useful Functions<a href="strings.html#other-useful-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>abbreviate()</code></li>
</ul>

</div>
</div>
</div>






            </section>

          </div>
        </div>
      </div>
<a href="fourth-section.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": true
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Introduction2R.pdf", "Introduction2R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true,
"toc_float": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
